{
  "id": 27,
  "slug": "stream-toarray-typed",
  "title": "Typed stream toArray",
  "category": "collections",
  "difficulty": "beginner",
  "jdkVersion": "8",
  "oldLabel": "Pre-Streams",
  "modernLabel": "Java 8+",
  "oldApproach": "Manual Array Copy",
  "modernApproach": "toArray(generator)",
  "oldCode": "List<String> list = getNames();\nString[] arr = new String[list.size()];\nfor (int i = 0; i < list.size(); i++) {\n    arr[i] = list.get(i);\n}",
  "modernCode": "String[] arr = getNames().stream()\n    .filter(n -> n.length() > 3)\n    .toArray(String[]::new);",
  "summary": "Convert streams to typed arrays with a method reference.",
  "explanation": "The toArray(IntFunction) method creates a properly typed array from a stream. The generator (String[]::new) tells the stream what type of array to create.",
  "whyModernWins": [
    {
      "icon": "üéØ",
      "title": "Type-safe",
      "desc": "No Object[] cast ‚Äî the array type is correct."
    },
    {
      "icon": "üîó",
      "title": "Chainable",
      "desc": "Works at the end of any stream pipeline."
    },
    {
      "icon": "üìè",
      "title": "Concise",
      "desc": "One expression replaces the manual loop."
    }
  ],
  "support": "Widely available since JDK 8 (March 2014)",
  "prev": "collections/collectors-teeing",
  "next": "collections/unmodifiable-collectors",
  "related": [
    "collections/collectors-teeing",
    "collections/map-entry-factory",
    "collections/immutable-set-creation"
  ]
}
