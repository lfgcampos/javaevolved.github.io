{
  "id": 28,
  "slug": "unmodifiable-collectors",
  "title": "Unmodifiable collectors",
  "category": "collections",
  "difficulty": "intermediate",
  "jdkVersion": "10",
  "oldLabel": "Java 8",
  "modernLabel": "Java 10+",
  "oldApproach": "collectingAndThen",
  "modernApproach": "toUnmodifiable*()",
  "oldCode": "List<String> list = stream.collect(\n    Collectors.collectingAndThen(\n        Collectors.toList(),\n        Collections::unmodifiableList\n    )\n);",
  "modernCode": "List<String> list = stream.collect(\n    Collectors.toUnmodifiableList()\n);",
  "summary": "Collect directly to unmodifiable collections.",
  "explanation": "Java 10 added toUnmodifiableList(), toUnmodifiableSet(), and toUnmodifiableMap() collectors. No more wrapping with collectingAndThen. For lists specifically, Java 16+ stream.toList() is even simpler ‚Äî it returns an unmodifiable List without the collect() call.",
  "whyModernWins": [
    {
      "icon": "üìè",
      "title": "Direct",
      "desc": "One collector instead of wrapping with collectingAndThen."
    },
    {
      "icon": "üîí",
      "title": "Immutable",
      "desc": "Result cannot be modified ‚Äî no accidental mutations."
    },
    {
      "icon": "üö´",
      "title": "Null-safe",
      "desc": "Rejects null elements during collection."
    }
  ],
  "support": {
    "state": "available",
    "description": "Widely available since JDK 10 (March 2018)"
  },
  "prev": "collections/reverse-list-iteration",
  "next": "strings/string-isblank",
  "related": [
    "collections/immutable-map-creation",
    "collections/immutable-set-creation",
    "streams/stream-tolist"
  ],
  "docs": [
    {
      "title": "Collectors.toUnmodifiableList()",
      "href": "https://docs.oracle.com/en/java/javase/25/docs/api/java.base/java/util/stream/Collectors.html#toUnmodifiableList()"
    }
  ]
}
