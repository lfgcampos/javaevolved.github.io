{
  "id": 84,
  "slug": "compact-object-headers",
  "title": "Compact object headers",
  "category": "tooling",
  "difficulty": "advanced",
  "jdkVersion": "25",
  "oldLabel": "Java 8",
  "modernLabel": "Java 25",
  "oldApproach": "128-bit Headers",
  "modernApproach": "64-bit Headers",
  "oldCode": "// Default: 128-bit object header\n// = 16 bytes overhead per object\n// A boolean field object = 32 bytes!\n// Mark word (64) + Klass pointer (64)",
  "modernCode": "// -XX:+UseCompactObjectHeaders\n// 64-bit object header\n// = 8 bytes overhead per object\n// 50% less header memory\n// More objects fit in cache",
  "summary": "Cut object header size in half for better memory density and cache usage.",
  "explanation": "Compact object headers reduce the per-object overhead from 128 bits to 64 bits on 64-bit platforms. This saves memory and improves cache utilization, especially for applications with many small objects.",
  "whyModernWins": [
    {
      "icon": "ðŸ“¦",
      "title": "50% smaller headers",
      "desc": "8 bytes instead of 16 per object."
    },
    {
      "icon": "âš¡",
      "title": "Better cache usage",
      "desc": "More objects fit in CPU cache lines."
    },
    {
      "icon": "ðŸ“Š",
      "title": "Higher density",
      "desc": "Fit more objects in the same heap size."
    }
  ],
  "support": "Finalized in JDK 25 LTS (JEP 519, Sept 2025).",
  "prev": "tooling/jfr-profiling",
  "next": "tooling/aot-class-preloading",
  "related": [
    "tooling/jshell-prototyping",
    "tooling/single-file-execution",
    "tooling/multi-file-source"
  ]
}
