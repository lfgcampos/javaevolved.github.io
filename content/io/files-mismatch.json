{
  "id": 62,
  "slug": "files-mismatch",
  "title": "Files.mismatch()",
  "category": "io",
  "difficulty": "beginner",
  "jdkVersion": "12",
  "oldLabel": "Java 8",
  "modernLabel": "Java 12+",
  "oldApproach": "Manual Byte Compare",
  "modernApproach": "Files.mismatch()",
  "oldCode": "// Compare two files byte by byte\nbyte[] f1 = Files.readAllBytes(path1);\nbyte[] f2 = Files.readAllBytes(path2);\nboolean equal = Arrays.equals(f1, f2);\n// loads both files entirely into memory",
  "modernCode": "long pos = Files.mismatch(path1, path2);\n// -1 if identical\n// otherwise: position of first difference",
  "summary": "Compare two files efficiently without loading them into memory.",
  "explanation": "Files.mismatch() returns the position of the first byte that differs, or -1 if the files are identical. It reads lazily and short-circuits on the first difference.",
  "whyModernWins": [
    {
      "icon": "‚ö°",
      "title": "Memory-efficient",
      "desc": "Doesn't load entire files into byte arrays."
    },
    {
      "icon": "üéØ",
      "title": "Pinpoints difference",
      "desc": "Returns the exact byte position of the first mismatch."
    },
    {
      "icon": "üìè",
      "title": "One call",
      "desc": "No manual byte array comparison logic."
    }
  ],
  "support": "Widely available since JDK 12 (March 2019)",
  "prev": "io/try-with-resources-effectively-final",
  "next": "io/deserialization-filters",
  "related": [
    "io/inputstream-transferto",
    "io/deserialization-filters",
    "io/writing-files"
  ]
}
