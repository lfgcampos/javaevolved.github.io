---
id: 61
slug: "try-with-resources-effectively-final"
title: "Try-with-resources improvement"
category: "io"
difficulty: "beginner"
jdkVersion: "9"
oldLabel: "Java 8"
modernLabel: "Java 9+"
oldApproach: "Re-declare Variable"
modernApproach: "Effectively Final"
oldCode: |-
  Connection conn = getConnection();
  // Must re-declare in try
  try (Connection c = conn) {
      use(c);
  }
modernCode: |-
  Connection conn = getConnection();
  // Use existing variable directly
  try (conn) {
      use(conn);
  }
summary: "Use existing effectively-final variables directly in try-with-resources."
explanation: "Java 9 allows effectively-final variables to be used directly in try-with-resources\
  \ without re-declaration. This is cleaner when the resource was created outside\
  \ the try block."
whyModernWins:
- icon: "üßπ"
  title: "No re-declaration"
  desc: "Use the existing variable name directly."
- icon: "üìñ"
  title: "Less confusion"
  desc: "No separate variable name inside the try block."
- icon: "üìè"
  title: "Concise"
  desc: "Fewer lines, same resource safety."
support:
  state: "available"
  description: "Widely available since JDK 9 (Sept 2017)"
prev: "io/path-of"
next: "io/file-memory-mapping"
related:
- "io/path-of"
- "io/reading-files"
- "io/http-client"
docs:
- title: "Catching and Handling Exceptions (dev.java)"
  href: "https://dev.java/learn/exceptions/catching-handling/"
