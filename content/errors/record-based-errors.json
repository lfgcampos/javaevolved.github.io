{
  "id": 69,
  "slug": "record-based-errors",
  "title": "Record-based error responses",
  "category": "errors",
  "difficulty": "intermediate",
  "jdkVersion": "16",
  "oldLabel": "Java 8",
  "modernLabel": "Java 16+",
  "oldApproach": "Map or Verbose Class",
  "modernApproach": "Error Records",
  "oldCode": "// Verbose error class\npublic class ErrorResponse {\n    private final int code;\n    private final String message;\n    // constructor, getters, equals,\n    // hashCode, toString...\n}",
  "modernCode": "public record ApiError(\n    int code,\n    String message,\n    Instant timestamp\n) {\n    public ApiError(int code, String msg) {\n        this(code, msg, Instant.now());\n    }\n}",
  "summary": "Use records for concise, immutable error response types.",
  "explanation": "Records are perfect for error responses ‚Äî they're immutable, have built-in equals/hashCode for comparison, and toString for logging. Custom constructors add validation or defaults.",
  "whyModernWins": [
    {
      "icon": "üìè",
      "title": "Concise",
      "desc": "Define error types in 3 lines instead of 30."
    },
    {
      "icon": "üîí",
      "title": "Immutable",
      "desc": "Error data can't be accidentally modified after creation."
    },
    {
      "icon": "üìã",
      "title": "Auto toString",
      "desc": "Perfect for logging ‚Äî shows all fields automatically."
    }
  ],
  "support": "Widely available since JDK 16 (March 2021)",
  "prev": "errors/null-in-switch",
  "next": "datetime/java-time-basics",
  "related": [
    "errors/helpful-npe",
    "errors/require-nonnull-else",
    "errors/multi-catch"
  ]
}
