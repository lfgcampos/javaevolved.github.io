{
  "id": 15,
  "slug": "guarded-patterns",
  "title": "Guarded patterns with when",
  "category": "language",
  "difficulty": "intermediate",
  "jdkVersion": "21",
  "oldLabel": "Java 8",
  "modernLabel": "Java 21+",
  "oldApproach": "Nested if",
  "modernApproach": "when Clause",
  "oldCode": "if (shape instanceof Circle c) {\n    if (c.radius() > 10) {\n        return \"large circle\";\n    } else {\n        return \"small circle\";\n    }\n} else {\n    return \"not a circle\";\n}",
  "modernCode": "return switch (shape) {\n    case Circle c\n        when c.radius() > 10\n            -> \"large circle\";\n    case Circle c\n            -> \"small circle\";\n    default -> \"not a circle\";\n};",
  "summary": "Add conditions to pattern cases using when guards.",
  "explanation": "Guarded patterns let you refine a type match with an additional boolean condition. This keeps all the branching logic in the switch instead of nesting if statements inside cases.",
  "whyModernWins": [
    {
      "icon": "ğŸ¯",
      "title": "Precise matching",
      "desc": "Combine type + condition in a single case label."
    },
    {
      "icon": "ğŸ“",
      "title": "Flat structure",
      "desc": "No nested if/else inside switch cases."
    },
    {
      "icon": "ğŸ“–",
      "title": "Readable intent",
      "desc": "The when clause reads like natural language."
    }
  ],
  "support": "Widely available since JDK 21 LTS (Sept 2023)",
  "prev": "language/pattern-matching-switch",
  "next": "language/primitive-types-in-patterns",
  "related": [
    "language/record-patterns",
    "language/type-inference-with-var",
    "language/compact-source-files"
  ]
}
