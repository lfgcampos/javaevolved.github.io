{
  "id": 95,
  "slug": "compact-canonical-constructor",
  "title": "Compact canonical constructor",
  "category": "language",
  "difficulty": "intermediate",
  "jdkVersion": "16",
  "oldLabel": "Java 16",
  "modernLabel": "Java 16+",
  "oldApproach": "Explicit constructor validation",
  "modernApproach": "Compact constructor",
  "oldCode": "public record Person(String name,\n                     List<String> pets) {\n    // Full canonical constructor\n    public Person(String name,\n                  List<String> pets) {\n        Objects.requireNonNull(name);\n        this.name = name;\n        this.pets = List.copyOf(pets);\n    }\n}",
  "modernCode": "public record Person(String name,\n                     List<String> pets) {\n    // Compact constructor\n    public Person {\n        Objects.requireNonNull(name);\n        pets = List.copyOf(pets);\n    }\n}",
  "summary": "Validate and normalize record fields without repeating parameter lists.",
  "explanation": "Records can declare a compact canonical constructor that omits the parameter list and field assignments. The compiler automatically assigns parameters to fields after your validation logic runs. This is ideal for precondition checks, defensive copies, and normalization.",
  "whyModernWins": [
    {
      "icon": "‚úÇÔ∏è",
      "title": "Less repetition",
      "desc": "No need to repeat parameter list or assign each field manually."
    },
    {
      "icon": "üõ°Ô∏è",
      "title": "Validation",
      "desc": "Perfect for null checks, range validation, and defensive copies."
    },
    {
      "icon": "üìñ",
      "title": "Clearer intent",
      "desc": "Compact syntax emphasizes validation, not boilerplate."
    }
  ],
  "support": {
    "state": "available",
    "description": "Widely available since JDK 16 (March 2021)"
  },
  "prev": "language/static-members-in-inner-classes",
  "next": "enterprise/servlet-vs-jaxrs",
  "related": [
    "language/records-for-data-classes",
    "language/flexible-constructor-bodies",
    "errors/record-based-errors"
  ]
}
